<a class="btn btn-outline-primary mt-3 ml-3" href="/records/new">新增支出</a>
<div class="container my-5">
  {{!-- 類別篩選器 --}}
  <form class="container  mt-n3 needs-validation" action="/records">
    <div class="form-group">
      {{!-- category filter --}}
      <div class="col-12 my-1  row justify-content-between">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <label class="input-group-text bg-secondary text-light" for="category">
              <i class="fas fa-filter"></i>
            </label>
          </div>
          <select class="custom-select" id="category" name="category" onchange="this.form.submit()">
            <option value="" {{#if (eq category '' )}} selected {{/if}}>全類別</option>
            <option value="家居物業" {{#if (eq category '家居物業' )}} selected {{/if}}>家居物業</option>
            <option value="交通出行" {{#if (eq category '交通出行' )}} selected {{/if}}>交通出行</option>
            <option value="休閒娛樂" {{#if (eq category '休閒娛樂' )}} selected {{/if}}>休閒娛樂</option>
            <option value="餐飲食品" {{#if (eq category '餐飲食品' )}} selected {{/if}}>餐飲食品</option>
            <option value="其他" {{#if (eq category '其他' )}} selected {{/if}}>其他</option>
          </select>

          <div class="input-group-prepend ml-3">
            <label class="input-group-text bg-secondary text-light" for="month">
              <i class="far fa-calendar-alt"></i>
            </label>
          </div>
          <select class="custom-select" id="month" name="month" onchange="this.form.submit()">
            <option value="" {{#if (eq month '' )}} selected {{/if}}>全月份</option>
            <option value="1" {{#if (eq month '1' )}} selected {{/if}}>1月</option>
            <option value="2" {{#if (eq month '2' )}} selected {{/if}}>2月</option>
            <option value="3" {{#if (eq month '3' )}} selected {{/if}}>3月</option>
            <option value="4" {{#if (eq month '4' )}} selected {{/if}}>4月</option>
            <option value="5" {{#if (eq month '5' )}} selected {{/if}}>5月</option>
            <option value="6" {{#if (eq month '6' )}} selected {{/if}}>6月</option>
            <option value="7" {{#if (eq month '7' )}} selected {{/if}}>7月</option>
            <option value="8" {{#if (eq month '8' )}} selected {{/if}}>8月</option>
            <option value="9" {{#if (eq month '9' )}} selected {{/if}}>9月</option>
            <option value="10" {{#if (eq month '10' )}} selected {{/if}}>10月</option>
            <option value="11" {{#if (eq month '11' )}} selected {{/if}}>11月</option>
            <option value="12" {{#if (eq month '12' )}} selected {{/if}}>12月</option>
          </select>
        </div>
      </div>
    </div>
  </form>
  {{!-- 總金額 --}}
  <div class="row justify-content-center mb-5">
    <div class="col-6 text-center">
      <big>總金額</big>
      <h1 class="total_amount col-10 text-center">{{totalAmount}}</h1>
    </div>
  </div>

  {{!-- 主內容 --}}
  <div class="row justify-content-center">
    <ul class="list-group list-group-flush col-12 col-sm-10 col-md-8" style="max-height: 60vh; overflow:auto">
      {{#each records}}
      <li class="list-group-item d-flex justify-content-between">
        <div class="d-flex justify-content-between" style="width: 60%;">
          <div class="d-flex">
            <i class="{{this.icon}} mr-5" style="font-size: 30px; color: #a9cccc; line-height: 80px; width: 15%"></i>
            <div class="d-flex flex-column justify-content-center text-nowrap">
              <p class="m-0" style="font-size: 20px">{{this.name}}</p>
              <p class="m-0" style="font-size: 15px">{{this.date}}</p>
              <small class="merchant text-muted" style="display: block;">{{this.merchant}}</small>
            </div>
          </div>
          <span style="line-height: 80px; font-size: 20px">{{this.amount}}</span>
        </div>
        <div class="d-flex align-items-center">
          <a class="btn btn-outline-info" href="/records/{{this._id}}/edit">修改</a>
          <form action="/records/{{this._id}}?_method=DELETE" method="POST" onsubmit="return webConfirm('確定刪除這個項目嗎？')">
            <button class="btn btn-outline-warning ml-2">刪除</button>
          </form>
        </div>
      </li>
      {{/each}}
    </ul>
  </div>
</div>